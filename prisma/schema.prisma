generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model PriceTick {
  id        String   @id @default(uuid())
  symbol    String
  price     Decimal  @db.Decimal(18, 6)
  volume    Decimal? @db.Decimal(18, 6)
  ts        DateTime
  source    String
  createdAt DateTime @default(now())

  @@index([symbol, ts])
}


model Ticker {
  id               String   @id @default(uuid())
  symbol           String   @unique
  source           String   @default("finnhub")
  showOnDashboard  Boolean  @default(false)

  // Enriched company info (optional)
  name             String?
  exchange         String?
  currency         String?
  country          String?
  sector           String?
  industry         String?
  ipoDate          DateTime?
  website          String?
  logoUrl          String?
  marketCap        Decimal?  @db.Decimal(20, 2)
  peRatio          Decimal?  @db.Decimal(20, 6)
  dividendYield    Decimal?  @db.Decimal(20, 6)
  description      String?

  enrichmentSource String?
  lastEnrichedAt   DateTime?

  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}
